<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="cart.css" />

    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
  </head>
  <body>
    <div class="container-shooping cart">
      <h2 class="text-center cart">SHOPPING CART</h2>
      <div class="row content-cart">
        <div class="column">
          <div class="table-responsive">
            <table id="mytable" class="table">
              <thead>
                <tr>
                  <th>Produits</th>
                  <th>Nom</th>
                  <th>Quantit√©</th>
                  <th>Prix</th>
                  <th class="text-right">
                    <span id="amount" class="amount">Montant</span>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <div class="product-img">
                      <div class="img-product">
                        <img src="PRODUIT EN PROMO/1.jpg" alt="" />
                      </div>
                    </div>
                  </td>
                  <td>
                    <p>Product one</p>
                  </td>
                  <td>
                    <div class="button-container">
                      <button class="cart-qty-plus" type="value" value="+">
                        +
                      </button>
                      <input
                        type="text"
                        name="qty"
                        min="0"
                        class="qty form-control"
                        value="0"
                      />
                      <button class="cart-qty-minus" type="button" value="-">
                        -
                      </button>
                    </div>
                  </td>
                  <td>
                    <input
                      type="text"
                      value="72"
                      class="price form-control"
                      disabled
                    />
                  </td>
                  <td align="right">
                    DTN<span id="amount" class="amount">0</span>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="product-img">
                      <div class="img-product">
                        <img src="PRODUIT EN PROMO/1.jpg" alt="" />
                      </div>
                    </div>
                  </td>
                  <td>
                    <p>Product one</p>
                  </td>
                  <td>
                    <div class="button-container">
                      <button class="cart-qty-plus" type="value" value="+">
                        +
                      </button>
                      <input
                        type="text"
                        name="qty"
                        min="0"
                        class="qty form-control"
                        value="0"
                      />
                      <button class="cart-qty-minus" type="button" value="-">
                        -
                      </button>
                    </div>
                  </td>
                  <td>
                    <input
                      type="text"
                      value="72"
                      class="price form-control"
                      disabled
                    />
                  </td>
                  <td align="right">
                    DTN<span id="amount" class="amount">0</span>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="product-img">
                      <div class="img-product">
                        <img src="PRODUIT EN PROMO/1.jpg" alt="" />
                      </div>
                    </div>
                  </td>
                  <td>
                    <p>Product one</p>
                  </td>
                  <td>
                    <div class="button-container">
                      <button class="cart-qty-plus" type="value" value="+">
                        +
                      </button>
                      <input
                        type="text"
                        name="qty"
                        min="0"
                        class="qty form-control"
                        value="0"
                      />
                      <button class="cart-qty-minus" type="button" value="-">
                        -
                      </button>
                    </div>
                  </td>
                  <td>
                    <input
                      type="text"
                      value="72"
                      class="price form-control"
                      disabled
                    />
                  </td>
                  <td align="right">
                    DTN<span id="amount" class="amount">0</span>
                  </td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="4"></td>
                  <td align="right">
                    <strong
                      >TOTAL = TND
                      <span id="total" class="total">0</span></strong
                    >
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </div>
    </div>
    <script>
      $(document).ready(function () {
        update_amounts();
        $(".qty, .price").on("keyup keypress blur change", function (e) {
          update_amounts();
        });
      });
      function update_amounts() {
        var sum = 0.0;
        $("#mytable > tbody > tr").each(function () {
          var qty = $(this).find(".qty").val();
          var price = $(this).find(".price").val();
          var amount = qty * price;
          sum += amount;
          $(this)
            .find(".amount")
            .text("" + amount);
        });
        $(".total").text(sum);
      }
      var incrementQty;
      var decrementQty;
      var plusBtn = $(".cart-qty-plus");
      var minusBtn = $(".cart-qty-minus");
      var incrementQty = plusBtn.click(function () {
        var $n = $(this).parent(".button-container").find(".qty");
        $n.val(Number($n.val()) + 1);
        update_amounts();
      });
      var decrementQty = minusBtn.click(function () {
        var $n = $(this).parent(".button-container").find(".qty");
        var QtyVal = Number($n.val());
        if (QtyVal > 0) {
          $n.val(QtyVal - 1);
        }
        update_amounts();
      });
    </script>
  </body>
</html>
